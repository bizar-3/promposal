<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Prom?</title>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>

body{
  height:100vh;
  margin:0;
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:Arial, sans-serif;

  background: linear-gradient(-45deg,#ff9a9e,#fad0c4,#ffd1ff,#a1c4fd);
  background-size:400% 400%;
  animation:gradientMove 12s ease infinite;
  overflow:hidden;
}

@keyframes gradientMove{
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}

/* floating dots */
#particles{
  position:fixed;
  inset:0;
  z-index:0;
  pointer-events:none;
}

/* sparkles */
#sparkles{
  position:fixed;
  inset:0;
  z-index:1;
  pointer-events:none;
}

.container{
  text-align:center;
  background:rgba(255,255,255,0.95);
  padding:40px;
  border-radius:20px;
  box-shadow:0 10px 40px rgba(0,0,0,0.25);
  position:relative;
  z-index:3;
  backdrop-filter:blur(6px);
}

button{
  font-size:18px;
  padding:15px 30px;
  border:none;
  border-radius:12px;
  cursor:pointer;
  transition:transform .25s ease;
  position:relative;
}

/* ‚≠ê GLOW PULSE */
#yesBtn{
  background:#4CAF50;
  color:white;
  margin-right:20px;
  animation:pulse 1.8s infinite;
}

@keyframes pulse{
  0%{box-shadow:0 0 0 0 rgba(76,175,80,.7);}
  70%{box-shadow:0 0 0 25px rgba(76,175,80,0);}
  100%{box-shadow:0 0 0 0 rgba(76,175,80,0);}
}

#noBtn{
  background:#f44336;
  color:white;
  position:absolute;
}

#message{
  display:none;
  font-size:26px;
  margin-top:20px;
  font-weight:bold;
}

</style>
</head>

<body>

<canvas id="particles"></canvas>
<canvas id="sparkles"></canvas>

<div class="container" id="container">
<h1>Will you go to prom with me?</h1>
<button id="yesBtn">Yes</button>
<button id="noBtn">No</button>
<div id="message">üéâ Yay! üé®</div>
</div>

<script>

/* ---------- FLOATING DOTS ---------- */

const bgCanvas=document.getElementById("particles");
const bgCtx=bgCanvas.getContext("2d");

function resize(){
  bgCanvas.width=window.innerWidth;
  bgCanvas.height=window.innerHeight;
}
resize();
window.addEventListener("resize",resize);

let dots=[];

for(let i=0;i<70;i++){
  dots.push({
    x:Math.random()*bgCanvas.width,
    y:Math.random()*bgCanvas.height,
    size:Math.random()*2.5,
    speed:Math.random()*.6+.2
  });
}

function animateDots(){
  bgCtx.clearRect(0,0,bgCanvas.width,bgCanvas.height);
  bgCtx.fillStyle="rgba(255,255,255,.7)";

  dots.forEach(dot=>{
    bgCtx.beginPath();
    bgCtx.arc(dot.x,dot.y,dot.size,0,Math.PI*2);
    bgCtx.fill();

    dot.y-=dot.speed;

    if(dot.y<0){
      dot.y=bgCanvas.height;
      dot.x=Math.random()*bgCanvas.width;
    }
  });

  requestAnimationFrame(animateDots);
}
animateDots();



/* ---------- MOUSE SPARKLES ---------- */

const sparkCanvas=document.getElementById("sparkles");
const sparkCtx=sparkCanvas.getContext("2d");

function resizeSpark(){
  sparkCanvas.width=window.innerWidth;
  sparkCanvas.height=window.innerHeight;
}
resizeSpark();
window.addEventListener("resize",resizeSpark);

let sparks=[];

window.addEventListener("mousemove",(e)=>{
  for(let i=0;i<2;i++){
    sparks.push({
      x:e.clientX,
      y:e.clientY,
      size:Math.random()*3+1,
      life:40
    });
  }
});

function animateSparks(){
  sparkCtx.clearRect(0,0,sparkCanvas.width,sparkCanvas.height);

  sparks.forEach((s,i)=>{
    sparkCtx.fillStyle="white";
    sparkCtx.fillRect(s.x,s.y,s.size,s.size);

    s.life--;
    s.y-=1;

    if(s.life<=0) sparks.splice(i,1);
  });

  requestAnimationFrame(animateSparks);
}
animateSparks();



/* ---------- BUTTON LOGIC ---------- */

const noBtn=document.getElementById("noBtn");
const yesBtn=document.getElementById("yesBtn");
const message=document.getElementById("message");
const container=document.getElementById("container");

let yesScale=1;

/* ‚≠ê KEEP NO BUTTON INSIDE SCREEN */
noBtn.addEventListener("mouseover",()=>{

  const padding=20;

  const maxX=window.innerWidth-noBtn.offsetWidth-padding;
  const maxY=window.innerHeight-noBtn.offsetHeight-padding;

  const x=Math.random()*maxX;
  const y=Math.random()*maxY;

  noBtn.style.left=x+"px";
  noBtn.style.top=y+"px";

  yesScale+=0.1;
  yesBtn.style.transform=`scale(${yesScale})`;
});


yesBtn.addEventListener("click",()=>{

  confetti({
    particleCount:250,
    spread:120,
    origin:{y:.6}
  });

  setTimeout(()=>{
    confetti({
      particleCount:180,
      spread:140
    });
  },250);

  setTimeout(()=>{
    container.innerHTML="";
    message.style.display="block";
    container.appendChild(message);
  },700);

});

</script>
</body>
</html>
